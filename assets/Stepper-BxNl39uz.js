import{r as x,j as n,i,C as v}from"./index-BOCzOiCa.js";function $({steps:u,currentStepId:m,onStepChange:j,className:y}){const p=(e,t)=>{const r=t.indexOf(m),c=t.indexOf(e),d=t.length-1;if(r===d&&c<d)return"completed";const o=u.find(l=>l.id===e);if(o&&o.secondarySteps&&o.secondarySteps.length>0){const l=o.secondarySteps.every(s=>t.indexOf(s.id)<r);return c===r?"current":l?"completed":"pending"}return c===r?"current":c<r?"completed":"pending"},h=x.useCallback(()=>{const e=[];return u.forEach(t=>{e.push(t.id),t.secondarySteps&&t.secondarySteps.forEach(r=>{e.push(r.id)})}),e},[u]),N=(e,t)=>{const r=t.indexOf(m);return t.indexOf(e)<=r},f=e=>{j(e)},b=x.useMemo(()=>h(),[h]);return n.jsxs("div",{className:i("relative flex flex-col gap-6",y),children:[n.jsx("div",{className:"absolute left-3 top-0 bottom-0 w-px bg-border"}),n.jsx("div",{className:"relative flex flex-col gap-6",children:u.map((e,t)=>{const r=p(e.id,b),d=!!(N(e.id,b)&&e.secondarySteps&&e.secondarySteps.length>0),o=r==="current"&&d,l=t+1;return n.jsxs(x.Fragment,{children:[n.jsxs("div",{className:"relative flex items-center gap-3",children:[n.jsx("button",{type:"button",onClick:()=>f(e.id),className:i("relative z-10 flex items-center justify-center rounded-full bg-background border transition-colors","hover:opacity-80 cursor-pointer","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","w-6 h-6",r==="current"&&["border-primary border-[3px]"],r==="pending"&&["border-border"],r==="completed"&&["border-green-500"]),"aria-label":`Step ${l}: ${e.label}`,"aria-current":r==="current"?"step":void 0,children:r==="completed"?n.jsx(v,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):n.jsx("span",{className:i("text-sm font-semibold leading-6",r==="current"&&"text-primary",r==="pending"&&"text-muted-foreground"),children:l})}),n.jsx("button",{type:"button",onClick:()=>f(e.id),className:i("text-sm text-left transition-colors cursor-pointer","hover:opacity-80","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:rounded",r==="current"?"font-semibold text-foreground":"font-medium text-muted-foreground"),"aria-label":`Go to step: ${e.label}`,children:e.label})]}),o&&e.secondarySteps&&n.jsx("div",{className:"absolute left-3 w-px bg-primary z-0",style:{top:"1.5rem",height:`${1+e.secondarySteps.length*1.5}rem`}}),d&&e.secondarySteps&&n.jsx("div",{className:"pl-9 flex flex-col gap-0.5",children:e.secondarySteps.map((s,g)=>{const a=p(s.id,b),k=g===e.secondarySteps.length-1,C=o?"bg-primary":"bg-border";return n.jsx(x.Fragment,{children:n.jsxs("div",{className:"relative flex flex-col gap-0.5",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>f(s.id),className:i("relative z-10 flex items-center justify-center rounded-full bg-background border transition-colors","hover:opacity-80 cursor-pointer","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","w-3.5 h-3.5",a==="completed"&&["border-green-500"],a==="current"&&["border-primary"],a==="pending"&&["border-border"]),"aria-label":`Sub-step ${g+1}: ${s.label}`,"aria-current":a==="current"?"step":void 0,children:a==="completed"?n.jsx(v,{className:"h-3 w-3 text-green-600 dark:text-green-400"}):null}),n.jsx("button",{type:"button",onClick:()=>f(s.id),className:i("text-xs text-left transition-colors cursor-pointer","hover:opacity-80","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:rounded",a==="current"?"font-medium text-foreground":"font-normal text-muted-foreground"),"aria-label":`Go to sub-step: ${s.label}`,children:s.label})]}),!k&&n.jsx("div",{className:i("h-4 w-px ml-[5px]",C)})]})},s.id)})})]},e.id)})})]})}export{$ as S};
